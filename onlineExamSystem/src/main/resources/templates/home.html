<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymleaf.org"
	th:replace="base::layout(~{::section})">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<!-- /////////////////////////////////////////// -->

	<!--section for dynamic rendring-->
	<section>

		<div class="hero-section text-center text-white">
			<h1>Welcome to Our Platform</h1>
			<p>Connecting students, teachers, and recruiters</p>
			<a href="#explore" class="btn btn-light btn-lg">Get Started</a>
		</div>


		<div class="container text-center my-5" id="explore">
			<h2>Explore Our Services</h2>
			<div class="row">
				<div class="col-md-4">
					<div class="feature-card">
						<img
							src="https://img.freepik.com/free-photo/happy-young-woman-holding-laptop-gray-wall_231208-1261.jpg?semt=ais_hybrid"
							class="img-fluid" alt="Student">
						<h4>For Students</h4>
						<p>Find study resources, upcoming exams, and more.</p>
						<a href="/students" class="btn btn-primary">Learn More</a>
					</div>
				</div>
				<div class="col-md-4">
					<div class="feature-card">
						<img
							src="https://media.istockphoto.com/id/1414686003/photo/elementary-school-teacher.jpg?s=612x612&w=0&k=20&c=Yhd138kLb-IXcg_UH-8YrxjG93b10XlEX7BYP3cyBEs="
							class="img-fluid" alt="Teacher">
						<h4>For Teachers</h4>
						<p>Access teaching resources and manage student assignments.</p>
						<a href="/teachers" class="btn btn-primary">Learn More</a>
					</div>
				</div>
				<div class="col-md-4">
					<div class="feature-card">
						<img
							src="https://img.freepik.com/premium-photo/woman-pointing-hiring-sign-laptop-human-resources-with-offer-recruitment-job-opportunity-onboarding-pc-screen-with-website-hr-invitation-join-team-poster-recruiting_590464-243236.jpg"
							class="img-fluid" alt="Recruiter">
						<h4>For Recruiters</h4>
						<p>Post job opportunities and connect with talent.</p>
						<a href="/recruiters" class="btn btn-primary">Learn More</a>
					</div>
				</div>
			</div>
		</div>

		<!-- -------------------------------------------------- -->

		<!-- Testimonials Section -->
		<div class="container text-center my-5" id="testimonials">
			<h2>What People Are Saying</h2>
			<div class="row">
				<div class="col-md-4">
					<div class="testimonial-card">
						<blockquote class="blockquote">
							<p>"This platform helped me land my dream job. The resources
								for recruiters are top-notch!"</p>
							<footer class="blockquote-footer">John Doe, Recruiter</footer>
						</blockquote>
					</div>
				</div>
				<div class="col-md-4">
					<div class="testimonial-card">
						<blockquote class="blockquote">
							<p>"As a student, I found all the study materials I needed
								and the exam schedule in one place. Highly recommend!"</p>
							<footer class="blockquote-footer">Jane Smith, Student</footer>
						</blockquote>
					</div>
				</div>
				<div class="col-md-4">
					<div class="testimonial-card">
						<blockquote class="blockquote">
							<p>"The platform is intuitive and easy to use. Itâ€™s a great
								way for teachers to connect with students."</p>
							<footer class="blockquote-footer">Dr. John Lee, Teacher</footer>
						</blockquote>
					</div>
				</div>
			</div>
		</div>

		<!-- -------------------------------------------------- -->


		<!-- -------------------------------------------------- -->

		<!-- Call to Action Section -->
		<div class="text-center py-5"
			style="background-color: #008c7b; color: white;">
			<h2>Ready to Get Started?</h2>
			<p>Join the platform today and connect with students, teachers,
				or recruiters.</p>
			<a href="#sign-up" class="btn btn-light">Sign Up Now</a>
		</div>

		<!-- -------------------------------------------------- -->


		<!-- -------------------------------------------------- -->

		<!-- FAQ Section -->
		<div class="container my-5" id="faq">
			<h2>Frequently Asked Questions</h2>
			<div class="accordion" id="faqAccordion">
				<div class="accordion-item">
					<h2 class="accordion-header" id="faqHeading1">
						<button class="accordion-button" type="button"
							data-bs-toggle="collapse" data-bs-target="#faqCollapse1"
							aria-expanded="true" aria-controls="faqCollapse1">What
							is this platform for?</button>
					</h2>
					<div id="faqCollapse1" class="accordion-collapse collapse show"
						aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
						<div class="accordion-body">This platform connects students,
							teachers, and recruiters to facilitate learning and job
							opportunities.</div>
					</div>
				</div>
				<div class="accordion-item">
					<h2 class="accordion-header" id="faqHeading2">
						<button class="accordion-button collapsed" type="button"
							data-bs-toggle="collapse" data-bs-target="#faqCollapse2"
							aria-expanded="false" aria-controls="faqCollapse2">How
							do I register?</button>
					</h2>
					<div id="faqCollapse2" class="accordion-collapse collapse"
						aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
						<div class="accordion-body">You can sign up by clicking the
							"Sign Up" button and filling in your details as a student,
							teacher, or recruiter.</div>
					</div>
				</div>
			</div>
		</div>

		<!-- -------------------------------------------------- -->


		<!-- -------------------------------------------------- -->

		<!-- Home Page Content -->
		<div>
			<h3>Why Choose Us?</h3>
			<ul class="feature-list">
				<li>User-friendly interface that makes navigation seamless.</li>
				<li>Dynamic and real-time updates to keep you informed about
					exams, jobs, and assignments.</li>
				<li>Secure and reliable platform that ensures privacy and
					safety of your data.</li>
			</ul>

			<a href="#login" class="btn btn-primary">Get Started Today</a>
		</div>
		<!-- -------------------------------------------------- -->




		<!-- User Registration Modal -->

		<div class="modal fade" id="userModal" tabindex="-1"
			aria-labelledby="userModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-scrollable">
				<div class="modal-content">
					<!-- Modal Header -->
					<div class="modal-header justify-content-center">
						<h5 class="modal-title text-center" id="userModalLabel">User
							Registration Form</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="container" id="message-box1" th:if="${message}">
						<div th:classappend="${message.type}" class="alert text-center"
							role="alert" th:text="${message.content}"></div>
					</div>

					<!-- Modal Body -->
					<div class="modal-body">
						<form th:action="@{/online_exam_system/validate_fields}"
							th:object="${users}" th:method="${'POST'}">
							<!-- First Name -->
							<div class="mb-3">
								<label for="fname" class="form-label">First Name</label> <input
									type="text" id="fname" name="fname" class="form-control"
									th:value="${'Parth'}"
									th:placeholder="${'Enter Your First Name'}"
									th:classappend="${#fields.hasErrors('fname')?'is-invalid':''}"
									required>
								<!-- th:value="${(users.fname==null)?'':users.fname}" -->
								<div class="invalid-feedback"
									th:each="e:${#fields.errors('fname')}" th:text="${e}"></div>

							</div>

							<!-- Last Name -->
							<div class="mb-3">
								<label for="lname" class="form-label">Last Name</label> <input
									type="text" id="lname" name="lname" class="form-control"
									th:value="${'Patil'}"
									th:placeholder="${'Enter Your Last Name'}"
									th:classappend="${#fields.hasErrors('lname')?'is-invalid':''}"
									required>
								<!-- 									th:value="${(users.lname==null)?'':users.lname}" -->

								<div class="invalid-feedback"
									th:each="e:${#fields.errors('lname')}" th:text="${e}"></div>
							</div>

							<!-- Mobile Number -->
							<div class="mb-3">
								<label for="mobile" class="form-label">Mobile Number</label> <input
									type="tel" id="mobile" name="mobile" class="form-control"
									th:value="${'9045234567'}"
									th:placeholder="${'Enter Your Mobile Number'}"
									th:classappend="${#fields.hasErrors('mobile')?'is-invalid':''}"
									required>
								<!-- 									th:value="${(users.mobile==null)?'':users.mobile}" -->

								<div class="invalid-feedback"
									th:each="e:${#fields.errors('mobile')}" th:text="${e}"></div>
							</div>

							<!-- Username -->
							<div class="mb-3">
								<label for="username" class="form-label">Username</label> <input
									type="text" id="username" name="username" class="form-control"
									th:value="${'ppkdpp'}" th:placeholder="${'Enter A User Name'}"
									th:classappend="${#fields.hasErrors('username')?'is-invalid':''}"
									required>
								<!-- 									th:value="${(users.username==null)?'':users.username}" -->
								<small id="username-feedback" class="form-text text-muted"></small>
								<div class="invalid-feedback"
									th:each="e:${#fields.errors('username')}" th:text="${e}"></div>
							</div>

							<!-- Password -->
							<div class="mb-3">
								<label for="password" class="form-label">Password</label> <input
									type="password" id="password" name="password"
									class="form-control" th:value="${'asdfA@123'}"
									th:placeholder="${'Enter A Password'}"
									th:classappend="${#fields.hasErrors('password')?'is-invalid':''}"
									required>
								<!-- 									th:value="${(users.password==null)?'':users.password}" -->
								<div class="invalid-feedback"
									th:each="e:${#fields.errors('password')}" th:text="${e}"></div>
							</div>

							<!-- Role Selection -->
							<div class="mb-3">
								<label for="role" class="form-label">Role</label> <select
									id="role" name="role" class="form-control text-dark"
									th:classappend="${#fields.hasErrors('role')?'is-invalid':''}"
									required>
									<!-- 									<option value="" disabled th:selected="${users.role==null}">Select your role</option> -->
									<option th:value="ROLE_STUDENT"
										th:selected="${users.role=='null'}">Student</option>
									<option th:value="ROLE_TEACHER"
										th:selected="${users.role=='ROLE_TEACHER'}">Teacher</option>
									<option th:value="ROLE_JOBSEEKER"
										th:selected="${users.role=='ROLE_JOBSEEKER'}">Jobseeker</option>
									<option th:value="ROLE_RECRUITER"
										th:selected="${users.role=='ROLE_RECRUITER'}">Recruiter</option>
								</select>

								<div class="invalid-feedback"
									th:each="e:${#fields.errors('role')}" th:text="${e}"></div>
							</div>

							<!-- Email -->
							<div class="mb-3">
								<label for="emailid" class="form-label">Email</label> <input
									type="email" id="emailid" name="emailid" class="form-control"
									th:value="${'parth2503patil@gmail.com'}"
									th:placeholder="${'Enter Your Email'}"
									th:classappend="${#fields.hasErrors('emailid')?'is-invalid':''}"
									required>
								<!-- th:value="${(users.emailid==null)?'':users.emailid}" -->
								<small id="email-feedback" class="form-text text-muted"></small>
								<div class="invalid-feedback"
									th:each="e:${#fields.errors('emailid')}" th:text="${e}"></div>
							</div>

							<div class="mb-3">
								<input type="submit" id="submit" name="submit"
									class="form-control btn-primary" th:value="${'Varify Email'}">
							</div>

							<!-- OTP Field (Hidden Initially) -->
							<!-- 							<div id="otpSection" class="mb-3 d-none"> -->
							<!-- 								<label for="otp" class="form-label">Enter OTP</label> -->
							<!-- 								<div class="otp-container"> -->
							<!-- 									<input type="text" class="form-control otp-input" maxlength="1" -->
							<!-- 										required> <input type="text" -->
							<!-- 										class="form-control otp-input" maxlength="1" required> -->
							<!-- 									<input type="text" class="form-control otp-input" maxlength="1" -->
							<!-- 										required> <input type="text" -->
							<!-- 										class="form-control otp-input" maxlength="1" required> -->
							<!-- 									<input type="text" class="form-control otp-input" maxlength="1" -->
							<!-- 										required> <input type="text" -->
							<!-- 										class="form-control otp-input" maxlength="1" required> -->
							<!-- 								</div> -->
							<!-- 								<div class="alert alert-danger mt-2 d-none" id="otpError">Invalid -->
							<!-- 									OTP</div> -->
							<!-- 							</div> -->

							<!-- 							Submit Button -->
							<!-- 							<div class="mb-3 d-none" id="submitSection"> -->
							<!-- 								<input type="submit" id="submit" -->
							<!-- 									class="form-control btn btn-submit" th:value="Register"> -->
							<!-- 							</div> -->

							<!-- calling of #otpModal
                    <div class="d-grid">
                        <input type="submit" class="btn btn-submit" data-bs-toggle="modal" data-bs-target="#otpModal">
                    </div> -->
						</form>
					</div>
				</div>
			</div>
		</div>


		<!-- -------------------------------------------------- -->

		<!-- OTP Modal -->
		<div class="modal fade" id="otpModal" tabindex="-1"
			aria-labelledby="otpModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="otpModalLabel">OTP Verification</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
					</div>
					<div class="container" id="message-box2" th:if="${message}">
						<div th:classappend="${message.type}" class="alert text-center"
							role="alert" th:text="${message.content}"></div>
					</div>

					<!-- Modal Header -->
					<div class="modal-body">
					<div th:text="${(session.user==null)?'':session.user.fname}"></div>
					
						<p class="text-muted">Enter the 6-digit code that we have sent
							on your email address</p>
						<form id="otp-form" th:action="@{/online_exam_system/signup}" th:method="${'POST'}">
							<div class="otp-container">
								<input type="text" name="otp1" class="form-control otp-input" maxlength="1"
									required>
									 
									<input type="text" name="otp2"
									class="form-control otp-input" maxlength="1" required>
									
								<input type="text" name="otp3" class="form-control otp-input" maxlength="1"
									required>
									 
									<input type="text" name="otp4"
									class="form-control  otp-input" maxlength="1" required>
									
								<input type="text" name="otp5" class="form-control otp-input" maxlength="1"
									required>
									 
									 <input type="text" name="otp6"
									class="form-control otp-input" maxlength="1" required>
									
							</div>
							<button type="submit" id="verifyregister" class="btn btn-primary w-100">Verify And Register</button>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- -------------------------------------------------- -->


		<!-- -------------------------------------------------- -->

		<!-- User Login Modal -->

		<div class="modal fade" id="loginModal" tabindex="-1"
			aria-labelledby="loginModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-scrollable">
				<div class="modal-content">
					<!-- Modal Header -->
					<div class="modal-header justify-content-center">
						<h5 class="modal-title text-center" id="loginModalLabel">User
							Login Form</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>

					<div class="container" id="message-box3" th:if="${message}">
						<div th:classappend="${message.type}" class="alert text-center"
							role="alert" th:text="${message.content}"></div>
					</div>
					<!-- Modal Body -->
					<div class="modal-body">
						<form th:action="@{/dologin}" th:method="POST">

							<!-- Username -->
							<div class="mb-3">
								<label for="username" class="form-label">Username</label> <input
									type="text" id="username" name="username" class="form-control"
									placeholder="Enter User Name" th:value="${'ppkdpp'}" required>
							</div>

							<!-- Password -->
							<div class="mb-3">
								<label for="password" class="form-label">Password</label> <input
									type="password" id="password" name="password"
									class="form-control" placeholder="Enter your password" th:value="${'asdfA@123'}" required>
							</div>

							<!-- Submit Button -->
							<div class="mb-3">
								<input type="submit" id="login"
									class="form-control btn btn-submit" th:value="Login">
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>


		<!-- -------------------------------------------------- -->


		<!-- -------------------------------------------------- -->

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
    // Optional: Add functionality to automatically focus on the next input field
    document.querySelectorAll('.otp-input').forEach((input, index, inputs) => {
      input.addEventListener('input', () => {
        if (input.value.length === 1 && index < inputs.length - 1) {
          inputs[index + 1].focus();
        }
      });
    });
  
    window.onload = function() {
    	console.log("window reloaded");
    	////////////////////////////////
    	
const urlParams = new URLSearchParams(window.location.search);
const modalId = urlParams.get('modal');	
console.log('modal name ' + modalId);

if (modalId) {
    console.log("window reloaded");

    // Use Bootstrap's modal API to show the modal
    const modalElement = document.querySelector(modalId);
    if (modalElement) {
        console.log("Element ", modalElement);

        const modalInstance = new bootstrap.Modal(modalElement);
        console.log("instance ", modalInstance);

        modalInstance.show();
    }
}
    	
    		
        	
    	//////////////////////////////
        var modal = "[[${modal}]]";
        
        var messageBox1 = document.getElementById("message-box1");
        var messageBox2 = document.getElementById("message-box2");
        var messageBox3 = document.getElementById("message-box3");
        
      
        if (messageBox1 || messageBox2 || messageBox3) {
            // Hide the message box after 10 seconds
            setTimeout(function() {
                messageBox1.style.display = 'none';
                messageBox2.style.display = 'none';
                messageBox3.style.display = 'none';
            }, 10000); // 10,000 milliseconds = 10 seconds
        };
        		$(modal).modal('show');
        	};
        	
       
        /////////////////////////////////////////	
        
        	
        	
//         	var messageBox = document.getElementById("message-box");
//             if (messageBox) {
//                 // Hide the message box after 10 seconds
//                 setTimeout(function() {
//                     messageBox.style.display = 'none';
//                 }, 10000); // 10,000 milliseconds = 10 seconds
//             };
  </script>
		<!-- -------------------------------------------------- -->



	</section>
	<!--section for dynamic rendring ends-->

	<!-- /////////////////////////////////////////// -->

</body>
</html>